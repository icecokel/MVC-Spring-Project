<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="filemapper">
	<insert id="fileupload" parameterType="IceFile">
		insert into FileList
		(filename , fileUUID, filesize,email)
		value
		(#{filename},#{fileUUID},#{filesize},#{email})
	</insert>

	<select id="filedownload" parameterType="java.lang.String"
		resultType="IceFile">
		select filenum, filename, fileUploaddate ,filesize,nickname
		from FileList, users
		where FileList.email = users.email and FileList.email = #{email}
		order by fileUploaddate DESC
	</select>
	<select id="filedown" parameterType="java.lang.Integer">
		select *
		from FileList 
		where filenum =#{filenum}
	</select>
</mapper>